if(typeof Mozilla==="undefined"){var Mozilla={}}Mozilla.Accordion=function Accordion($accordion,options){"use strict";if($accordion.hasClass("accordion-initialized")){return Mozilla.Accordion.findAccordionById($accordion.prop("id"))}if(!$accordion.prop("id")){$accordion.prop("id","mozilla-accordion-"+Mozilla.Accordion.currentAccordionId);Mozilla.Accordion.currentAccordionId++}$accordion.addClass("accordion-initialized");var accordionId=this.id=$accordion.prop("id");var sections=this.sections=[];var state=this.loadState()||{};this.onExpand=null;this.onCollapse=null;if(typeof options==="object"){if(typeof options.onExpand==="function"){this.onExpand=options.onExpand}if(typeof options.onCollapse==="function"){this.onCollapse=options.onCollapse}}$accordion.attr({role:"tablist","aria-multiselectable":"true"});function Section(accordionId,index,$header){var section=this;var $parent=$header.parent();var headerId=$header.prop("id");var panelId=$header.attr("aria-controls");this.accordionId=accordionId;this.id=!$parent.is($accordion)&&$parent.prop("id")?$parent.attr("id"):accordionId+"-"+(index+1);if(!headerId){headerId=this.id+"-header";$header.prop("id",headerId)}if(panelId){this.$panel=$("#"+panelId).attr({"aria-labelledby":headerId,role:"tabpanel"})}else{panelId=this.id+"-panel";$header.attr("aria-controls",panelId);this.$panel=$header.siblings('[data-accordion-role="tabpanel"]:first').attr({id:panelId,role:"tabpanel","aria-labelledby":headerId})}this.$header=$header.attr({tabindex:"0","aria-selected":"false","aria-expanded":"false",role:"tab"});this.title=this.$header.text();$header.on("focus."+Mozilla.Accordion.EVENT_NAMESPACE+" blur."+Mozilla.Accordion.EVENT_NAMESPACE,function(event){$header.attr("aria-selected",event.type==="focus")});$header.on("click."+Mozilla.Accordion.EVENT_NAMESPACE,function(event){section.toggle(true,true);event.preventDefault()});$header.on("keydown."+Mozilla.Accordion.EVENT_NAMESPACE,function(event){var next;var len=sections.length;switch(event.which){case 13:case 32:section.toggle(true,true);event.preventDefault();break;case 33:case 36:next=sections[0];break;case 34:case 35:next=sections[len-1];break;case 37:case 38:next=sections[index===0?len-1:index-1];break;case 39:case 40:next=sections[index===len-1?0:index+1];break}if(next){next.$header.focus();event.preventDefault()}});if($header.attr("aria-expanded")==="true"||location.hash.substr(1)===this.id||state[this.id]===true){this.expand(false,false)}else{this.collapse(false,false)}}Section.prototype.expand=function(animation,interaction){var section=this;section.$panel.slideDown({duration:animation?"fast":0,easing:"accordionExpand",complete:function(){section.expanded=true;section.$header.attr("aria-expanded","true");section.$panel.attr("aria-hidden","false")}});if(interaction){var accordion=Mozilla.Accordion.findAccordionById(this.accordionId);if(typeof accordion.onExpand==="function"){accordion.onExpand(this)}if(typeof Mozilla.Accordion.globalOnExpand==="function"){Mozilla.Accordion.globalOnExpand(this)}section.$panel.trigger("expand")}};Section.prototype.collapse=function(animation,interaction){var section=this;section.$panel.slideUp({duration:animation?"fast":0,easing:"accordionCollapse",complete:function(){section.expanded=false;section.$header.attr("aria-expanded","false");section.$panel.attr("aria-hidden","true")}});if(interaction){var accordion=Mozilla.Accordion.findAccordionById(this.accordionId);if(typeof accordion.onCollapse==="function"){accordion.onCollapse(this)}if(typeof Mozilla.Accordion.globalOnCollapse==="function"){Mozilla.Accordion.globalOnCollapse(this)}section.$panel.trigger("collapse")}};Section.prototype.toggle=function(animation,interaction){if(this.expanded){this.collapse(animation,interaction)}else{this.expand(animation,interaction)}};$('> * > [data-accordion-role="tab"]',$accordion).each(function(index){sections.push(new Section(accordionId,index,$(this)))});Mozilla.Accordion.accordions.push(this);Mozilla.Accordion.updateBeforeUnloadListener();return this};Mozilla.Accordion.monitoringBeforeUnload=false;Mozilla.Accordion.currentAccordionId=1;Mozilla.Accordion.currentSectionId=1;Mozilla.Accordion.accordions=[];Mozilla.Accordion.globalOnCollapse=null;Mozilla.Accordion.globalOnExpand=null;Mozilla.Accordion.EVENT_NAMESPACE="mozaccordion";Mozilla.Accordion.createAccordions=function(autoOnly){"use strict";$(".accordion").not(".accordion-initialized").each(function(index,accordionNode){var $accordionNode=$(accordionNode);if(autoOnly&&$accordionNode.hasClass("accordion-auto-init")||!autoOnly){new Mozilla.Accordion($accordionNode)}})};Mozilla.Accordion.findAccordionById=function(accordionId){"use strict";var accordion=$.grep(Mozilla.Accordion.accordions,function(elem){return elem.id===accordionId});return accordion.length>0?accordion[0]:null};Mozilla.Accordion.prototype.expandAll=function(animation,interaction){"use strict";$.each(this.sections,function(index,section){section.expand(animation,interaction)})};Mozilla.Accordion.prototype.collapseAll=function(animation,interaction){"use strict";$.each(this.sections,function(index,section){section.collapse(animation,interaction)})};Mozilla.Accordion.prototype.loadState=function(){"use strict";var itemId=location.pathname+"#"+this.id;try{return JSON.parse(sessionStorage.getItem(itemId))}catch(ex){return null}};Mozilla.Accordion.prototype.saveState=function(){"use strict";var state={};var itemId=location.pathname+"#"+this.id;$.each(this.sections,function(index,section){state[section.id]=section.expanded});try{sessionStorage.setItem(itemId,JSON.stringify(state))}catch(ex){}};Mozilla.Accordion.updateBeforeUnloadListener=function(){"use strict";if(Mozilla.Accordion.accordions.length===0){$(window).off("beforeunload."+Mozilla.Accordion.EVENT_NAMESPACE);Mozilla.Accordion.monitoringBeforeUnload=false}else if(Mozilla.Accordion.monitoringBeforeUnload===false){$(window).on("beforeunload."+Mozilla.Accordion.EVENT_NAMESPACE,function(){$.each(Mozilla.Accordion.accordions,function(index,accordion){accordion.saveState()})});Mozilla.Accordion.monitoringBeforeUnload=true}};Mozilla.Accordion.destroyAccordions=function(){"use strict";var accordionIds=[];var i;for(i=0;i<Mozilla.Accordion.accordions.length;i++){accordionIds.push(Mozilla.Accordion.accordions[i].id)}for(i=0;i<accordionIds.length;i++){Mozilla.Accordion.destroyAccordionById(accordionIds[i])}};Mozilla.Accordion.destroyAccordionById=function(accordionId){"use strict";var accordion=Mozilla.Accordion.findAccordionById(accordionId);if(!accordion){return false}accordion.saveState();var $container=$("#"+accordion.id);$container.removeAttr("role aria-multiselectable");var section;for(var i=0;i<accordion.sections.length;i++){section=accordion.sections[i];section.$header.removeAttr("aria-controls tabindex aria-selected aria-expanded role");section.$header.off("."+Mozilla.Accordion.EVENT_NAMESPACE);section.$panel.removeAttr("role aria-labelledby aria-hidden").show()}$container.removeClass("accordion-initialized");var accordionIndex=$.inArray(accordion,Mozilla.Accordion.accordions);Mozilla.Accordion.accordions.splice(accordionIndex,1);Mozilla.Accordion.updateBeforeUnloadListener();return true};$(function(){"use strict";if(/MSIE\s[1-7]\./.test(navigator.userAgent)){return}$.extend($.easing,{accordionExpand:function(x,t,b,c,d){return c*(t/=d)*t+b},accordionCollapse:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}});Mozilla.Accordion.createAccordions(true)});if(typeof Mozilla==="undefined"){var Mozilla={}}if(typeof Mozilla.Accordion==="function"){Mozilla.Accordion.globalOnExpand=function(section){window.dataLayer.push({event:"accordion-interaction",interaction:"Expand",question:section.$header.text(),questionNumber:section.id.split("-")[1]})};Mozilla.Accordion.globalOnCollapse=function(section){window.dataLayer.push({event:"accordion-interaction",interaction:"Collapse",question:section.$header.text(),questionNumber:section.id.split("-")[1]})}}
